import{r as g,j as e,R as m,a as z,Y as oe,y as le}from"./app-BO8FhFoj.js";import{A as ne,B as F,a as A,b as B,c as ie,T as ce,d as de,e as ue,f as me}from"./AuthenticatedLayout-1Da5z-Kp.js";import{u as ge,a as he,F as pe,L as xe,b as v,c as b,d as C,e as N,f as q,T as je,g as fe,U as ve,t as be}from"./textarea-DdlqU38z.js";import{z as x}from"./index-DXqQCM1T.js";import{P as V,c as R,a as Ce,B as P}from"./index-B7etewmp.js";import{B as Ne}from"./badge-bxfsLjrW.js";import{C as T,a as y,b as G,c as L,d as k}from"./card-DRY9MYxI.js";import"./label-DJD5oZtq.js";import{I as Pe}from"./input-DFEitU64.js";import{C as qe,S as M,a as $,b as U,c as H,d as S}from"./select-BzmhNWOq.js";import{u as _,a as Te,c as ye}from"./react-icons.esm-BKJgq7z7.js";import{c as Q,R as Ge,I as ke}from"./dropdown-menu-D88uwVlT.js";import{u as Se}from"./index-CxqJiEd9.js";import"./index-DeJwLPtz.js";import"./index-CTbn6QwJ.js";import"./createLucideIcon-C4H86EFL.js";import"./index-B-j9Ub4A.js";import"./index-DDfrx0O-.js";var we="Toggle",D=g.forwardRef((r,o)=>{const{pressed:l,defaultPressed:a=!1,onPressedChange:t,...n}=r,[i=!1,s]=_({prop:l,onChange:t,defaultProp:a});return e.jsx(V.button,{type:"button","aria-pressed":i,"data-state":i?"on":"off","data-disabled":r.disabled?"":void 0,...n,ref:o,onClick:Te(r.onClick,()=>{r.disabled||s(!i)})})});D.displayName=we;var W=D,j="ToggleGroup",[Y,rs]=ye(j,[Q]),J=Q(),E=m.forwardRef((r,o)=>{const{type:l,...a}=r;if(l==="single"){const t=a;return e.jsx(Ie,{...t,ref:o})}if(l==="multiple"){const t=a;return e.jsx(Fe,{...t,ref:o})}throw new Error(`Missing prop \`type\` expected on \`${j}\``)});E.displayName=j;var[K,X]=Y(j),Ie=m.forwardRef((r,o)=>{const{value:l,defaultValue:a,onValueChange:t=()=>{},...n}=r,[i,s]=_({prop:l,defaultProp:a,onChange:t});return e.jsx(K,{scope:r.__scopeToggleGroup,type:"single",value:i?[i]:[],onItemActivate:s,onItemDeactivate:m.useCallback(()=>s(""),[s]),children:e.jsx(Z,{...n,ref:o})})}),Fe=m.forwardRef((r,o)=>{const{value:l,defaultValue:a,onValueChange:t=()=>{},...n}=r,[i=[],s]=_({prop:l,defaultProp:a,onChange:t}),u=m.useCallback(h=>s((p=[])=>[...p,h]),[s]),f=m.useCallback(h=>s((p=[])=>p.filter(I=>I!==h)),[s]);return e.jsx(K,{scope:r.__scopeToggleGroup,type:"multiple",value:i,onItemActivate:u,onItemDeactivate:f,children:e.jsx(Z,{...n,ref:o})})});E.displayName=j;var[Ve,Re]=Y(j),Z=m.forwardRef((r,o)=>{const{__scopeToggleGroup:l,disabled:a=!1,rovingFocus:t=!0,orientation:n,dir:i,loop:s=!0,...u}=r,f=J(l),h=Se(i),p={role:"group",dir:h,...u};return e.jsx(Ve,{scope:l,rovingFocus:t,disabled:a,children:t?e.jsx(Ge,{asChild:!0,...f,orientation:n,dir:h,loop:s,children:e.jsx(V.div,{...p,ref:o})}):e.jsx(V.div,{...p,ref:o})})}),w="ToggleGroupItem",ee=m.forwardRef((r,o)=>{const l=X(w,r.__scopeToggleGroup),a=Re(w,r.__scopeToggleGroup),t=J(r.__scopeToggleGroup),n=l.value.includes(r.value),i=a.disabled||r.disabled,s={...r,pressed:n,disabled:i},u=m.useRef(null);return a.rovingFocus?e.jsx(ke,{asChild:!0,...t,focusable:!i,active:n,ref:u,children:e.jsx(O,{...s,ref:o})}):e.jsx(O,{...s,ref:o})});ee.displayName=w;var O=m.forwardRef((r,o)=>{const{__scopeToggleGroup:l,value:a,...t}=r,n=X(w,l),i={role:"radio","aria-checked":r.pressed,"aria-pressed":void 0},s=n.type==="single"?i:void 0;return e.jsx(D,{...s,...t,ref:o,onPressedChange:u=>{u?n.onItemActivate(a):n.onItemDeactivate(a)}})}),se=E,re=ee;const ae=Ce("inline-flex items-center justify-center rounded-md text-sm font-medium transition-colors hover:bg-muted hover:text-muted-foreground focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 data-[state=on]:bg-accent data-[state=on]:text-accent-foreground",{variants:{variant:{default:"bg-transparent",outline:"border border-input bg-transparent shadow-sm hover:bg-accent hover:text-accent-foreground"},size:{default:"h-9 px-3",sm:"h-8 px-2",lg:"h-10 px-3"}},defaultVariants:{variant:"default",size:"default"}}),_e=g.forwardRef(({className:r,variant:o,size:l,...a},t)=>e.jsx(W,{ref:t,className:R(ae({variant:o,size:l,className:r})),...a}));_e.displayName=W.displayName;const te=g.createContext({size:"default",variant:"default"}),De=g.forwardRef(({className:r,variant:o,size:l,children:a,...t},n)=>e.jsx(se,{ref:n,className:R("flex items-center justify-center gap-1",r),...t,children:e.jsx(te.Provider,{value:{variant:o,size:l},children:a})}));De.displayName=se.displayName;const Ee=g.forwardRef(({className:r,children:o,variant:l,size:a,...t},n)=>{const i=g.useContext(te);return e.jsx(re,{ref:n,className:R(ae({variant:i.variant||l,size:i.size||a}),r),...t,children:o})});Ee.displayName=re.displayName;const as=({categories:r})=>{const[o,l]=g.useState(""),[a,t]=g.useState(!1),n=x.object({title:x.string().min(1,"Title is required").max(100,"Title must be 100 characters or less"),content:x.string().min(1,"Content is required"),description:x.string().min(1,"Description is required"),category:x.string({required_error:"Please select a Post Category"}),status:x.string().min(1,"Status is required")}),i={toolbar:[[{header:[1,2,3,4,5,6,!1]}],["bold","italic","underline","strike"],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{direction:"rtl"}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["link","image","video"],["clean"]]},s=ge({resolver:be(n),defaultValues:{title:"",description:"",content:"",category:"",status:"draft"}}),{quill:u,quillRef:f}=he({modules:i});g.useEffect(()=>{u&&u.on("text-change",()=>{const c=u.root.innerHTML;l(c),s.setValue("content",c,{shouldValidate:!0})})},[u]);const h=c=>{t(!0)},p=c=>{t(!1)};function I(c){le.post(route("admin.posts.store"),c,{onStart:h,onFinish:p,onError:d=>{d.title&&s.setError("title",{message:d.title}),d.description&&s.setError("description",{message:d.description}),d.content&&s.setError("content",{message:d.content}),d.category&&s.setError("category",{message:d.category}),d.status&&s.setError("status",{message:d.status})}})}return e.jsxs(ne,{header:e.jsxs(e.Fragment,{children:[e.jsx(F,{children:e.jsx(A,{asChild:!0,children:e.jsx(z,{href:route("admin.dashboard"),children:"Dashboard"})})}),e.jsx(B,{}),e.jsx(F,{children:e.jsx(A,{asChild:!0,children:e.jsx(z,{href:route("admin.posts"),children:"Posts"})})}),e.jsx(B,{}),e.jsx(F,{children:e.jsx(ie,{children:"Add Post"})})]}),children:[e.jsx(oe,{title:"Create Post"}),e.jsx(pe,{...s,children:e.jsx("form",{onSubmit:s.handleSubmit(I),children:e.jsxs("div",{className:"mx-auto grid max-w-[59rem] flex-1 auto-rows-max gap-4",children:[e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsxs(P,{variant:"outline",size:"icon",className:"h-7 w-7",children:[e.jsx(qe,{className:"h-4 w-4"}),e.jsx("span",{className:"sr-only",children:"Back"})]}),e.jsx("h1",{className:"flex-1 shrink-0 whitespace-nowrap text-xl font-semibold tracking-tight sm:grow-0",children:s.getValues("title")!==""?s.getValues("title"):e.jsx("span",{className:"text-gray-400",children:"Draft Post"})}),e.jsx(Ne,{variant:"outline",className:"ml-auto sm:ml-0",children:"Draft"}),e.jsxs("div",{className:"hidden items-center gap-2 md:ml-auto md:flex",children:[e.jsx(P,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(P,{size:"sm",type:"submit",disabled:a,children:a?e.jsxs(e.Fragment,{children:[e.jsx(xe,{className:"mr-2 h-4 w-4 animate-spin"})," ","Saving"]}):e.jsx(e.Fragment,{children:"Save Post"})})]})]}),e.jsxs("div",{className:"grid gap-4 md:grid-cols-[1fr_250px] lg:grid-cols-3 lg:gap-8",children:[e.jsx("div",{className:"grid auto-rows-max items-start gap-4 lg:col-span-2 lg:gap-8",children:e.jsxs(T,{"x-chunk":"dashboard-07-chunk-0",children:[e.jsxs(y,{children:[e.jsx(G,{children:"Post Details"}),e.jsx(L,{children:s.getValues("description")??e.jsx("span",{className:"text-gray-400",children:"Draft Post"})})]}),e.jsx(k,{children:e.jsxs("div",{className:"grid gap-6",children:[e.jsx("div",{className:"grid gap-3",children:e.jsx(v,{control:s.control,name:"title",render:({field:c})=>e.jsxs(b,{children:[e.jsx(C,{children:"Title"}),e.jsx(N,{children:e.jsx(Pe,{placeholder:"Title",type:"text",className:"w-full",...c})}),e.jsx(q,{})]})})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(v,{control:s.control,name:"description",render:({field:c})=>e.jsxs(b,{children:[e.jsx(C,{children:"Description"}),e.jsx(N,{children:e.jsx(je,{id:"description",placeholder:"Description",className:"min-h-32",...c})}),e.jsx(q,{})]})})}),e.jsx("div",{className:"grid gap-3",children:e.jsx(v,{control:s.control,name:"content",render:({field:c})=>e.jsxs(b,{children:[e.jsx(C,{children:"Content"}),e.jsx(N,{children:e.jsx("div",{className:"border rounded-md quill-shadcn",children:e.jsx("div",{ref:f,className:"min-h-[200px]"})})}),e.jsx(fe,{children:"Write your post content here."}),e.jsx(q,{})]})})})]})})]})}),e.jsxs("div",{className:"grid auto-rows-max items-start gap-4 lg:gap-8",children:[e.jsxs(T,{"x-chunk":"dashboard-07-chunk-2",children:[e.jsx(y,{children:e.jsx(G,{children:"Post Category"})}),e.jsx(k,{children:e.jsx("div",{className:"grid gap-6 sm:grid-cols-3",children:e.jsx("div",{className:"grid gap-3",children:e.jsx(v,{control:s.control,name:"category",render:({field:c})=>e.jsxs(b,{children:[e.jsx(C,{children:"Category"}),e.jsxs(M,{onValueChange:c.onChange,defaultValue:c.value,children:[e.jsx(N,{children:e.jsx($,{children:e.jsx(U,{placeholder:"Select a Post Category"})})}),e.jsx(H,{children:r.map(d=>e.jsx(S,{value:d.name,children:d.name},d.id))})]}),e.jsx(q,{})]})})})})})]}),e.jsxs(T,{"x-chunk":"dashboard-07-chunk-3",children:[e.jsx(y,{children:e.jsx(G,{children:"Product Status"})}),e.jsx(k,{children:e.jsx("div",{className:"grid gap-6",children:e.jsx("div",{className:"grid gap-3",children:e.jsx(v,{control:s.control,name:"status",render:({field:c})=>e.jsxs(b,{children:[e.jsx(C,{children:"Status"}),e.jsxs(M,{onValueChange:c.onChange,defaultValue:c.value,children:[e.jsx(N,{children:e.jsx($,{id:"status","aria-label":"Select status",children:e.jsx(U,{placeholder:"Select status"})})}),e.jsxs(H,{children:[e.jsx(S,{value:"draft",children:"Draft"}),e.jsx(S,{value:"published",children:"Active"}),e.jsx(S,{value:"archived",children:"Archived"})]})]})]})})})})})]}),e.jsxs(T,{className:"overflow-hidden","x-chunk":"dashboard-07-chunk-4",children:[e.jsxs(y,{children:[e.jsx(G,{children:"Product Image"}),e.jsx(L,{children:"Upload featured image for this post."})]}),e.jsx(k,{children:e.jsxs("div",{className:"grid gap-2",children:[e.jsx("img",{alt:"Product image",className:"aspect-square w-full rounded-md object-cover",height:"300",src:"/placeholder.svg",width:"300"}),e.jsx("div",{className:"grid grid-cols-1",children:e.jsx(ce,{children:e.jsxs(de,{children:[e.jsx(ue,{asChild:!0,children:e.jsxs("button",{className:"flex aspect-square w-full h-10 items-center justify-center rounded-md border border-dashed",children:[e.jsx(ve,{className:"h-4 w-4 text-muted-foreground"}),e.jsx("span",{className:"sr-only",children:"Upload"})]})}),e.jsx(me,{side:"bottom",children:"Click to upload image"})]})})})]})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-center gap-2 md:hidden",children:[e.jsx(P,{variant:"outline",size:"sm",children:"Discard"}),e.jsx(P,{size:"sm",children:"Save Product"})]})]})})}),e.jsx("style",{jsx:!0,global:!0,children:`
                .quill-shadcn .ql-toolbar.ql-snow {
                    border: none;
                    border-bottom: 1px solid hsl(var(--border));
                    padding: 0.5rem;
                }
                .quill-shadcn .ql-container.ql-snow {
                    border: none;
                }
                .quill-shadcn .ql-editor {
                    min-height: 200px;
                    font-size: 1rem;
                    line-height: 1.5;
                    padding: 1rem;
                    color: hsl(var(--foreground));
                }
                .quill-shadcn .ql-editor.ql-blank::before {
                    color: hsl(var(--muted-foreground));
                    font-style: normal;
                }
                .quill-shadcn .ql-formats button {
                    height: 28px;
                    width: 28px;
                    display: inline-flex;
                    align-items: center;
                    justify-content: center;
                    border-radius: 4px;
                    color: hsl(var(--foreground));
                }
                .quill-shadcn .ql-formats button:hover {
                    background-color: hsl(var(--accent));
                    color: hsl(var(--accent-foreground));
                }
                .quill-shadcn .ql-formats button.ql-active {
                    background-color: hsl(var(--accent));
                    color: hsl(var(--accent-foreground));
                }
                .quill-shadcn .ql-formats .ql-picker {
                    color: hsl(var(--foreground));
                }
                .quill-shadcn .ql-formats .ql-picker:hover .ql-picker-label {
                    color: hsl(var(--accent-foreground));
                }
                .quill-shadcn .ql-formats .ql-picker-options {
                    background-color: hsl(var(--background));
                    border: 1px solid hsl(var(--border));
                    border-radius: 4px;
                    padding: 0.5rem;
                    box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
                }
                .quill-shadcn .ql-formats .ql-picker-item {
                    padding: 0.25rem 0.5rem;
                    border-radius: 4px;
                }
                .quill-shadcn .ql-formats .ql-picker-item:hover {
                    background-color: hsl(var(--accent));
                    color: hsl(var(--accent-foreground));
                }
            `})]})};export{as as default};
